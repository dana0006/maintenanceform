<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Public Maintenance Form -->
    <template id="public_maintenance_form" name="Public Maintenance Request Form">
        <t t-call="website.layout">
            <div id="wrap" class="oe_structure">
                <div class="container mt-4 mb-4">
                    <div class="row">
                        <div class="col-lg-8 offset-lg-2">
                            <h1 class="text-center mb-4">Maintenance Request Form</h1>
                            
                            <form action="/maintenance/submit" method="post" enctype="multipart/form-data" class="maintenance-form">
                                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                
                                <!-- Location Selection -->
                                <div class="card mb-3">
                                    <div class="card-header">
                                        <h5 class="mb-0">Location Information</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="form-group">
                                            <label for="building_id">Building <span class="text-danger">*</span></label>
                                            <select name="building_id" id="building_id" class="form-control" required="required">
                                                <option value="">Select Building</option>
                                                <t t-foreach="buildings" t-as="building">
                                                    <option t-att-value="building.id"><t t-esc="building.name"/></option>
                                                </t>
                                            </select>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label for="floor_id">Floor <span class="text-danger">*</span></label>
                                            <select name="floor_id" id="floor_id" class="form-control" required="required" disabled="disabled">
                                                <option value="">Select Building First</option>
                                            </select>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label for="room_id">Room/Location <span class="text-danger">*</span></label>
                                            <select name="room_id" id="room_id" class="form-control" required="required" disabled="disabled">
                                                <option value="">Select Floor First</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Request Details -->
                                <div class="card mb-3">
                                    <div class="card-header">
                                        <h5 class="mb-0">Request Details</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="form-group">
                                            <label for="subject">Subject <span class="text-danger">*</span></label>
                                            <input type="text" name="subject" id="subject" class="form-control" required="required" placeholder="Brief description of the issue"/>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label for="description">Detailed Description <span class="text-danger">*</span></label>
                                            <textarea name="description" id="description" class="form-control" rows="4" required="required" placeholder="Please provide detailed information about the maintenance issue"></textarea>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label for="priority">Priority</label>
                                            <select name="priority" id="priority" class="form-control">
                                                <option value="0">Low</option>
                                                <option value="1" selected="selected">Normal</option>
                                                <option value="2">High</option>
                                                <option value="3">Urgent</option>
                                            </select>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label for="photos">Upload Photos</label>
                                            <input type="file" name="photos" id="photos" class="form-control-file" multiple="multiple" accept="image/*"/>
                                            <small class="form-text text-muted">You can upload multiple photos (max 5MB each)</small>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Contact Information -->
                                <div class="card mb-3">
                                    <div class="card-header">
                                        <h5 class="mb-0">Contact Information (Optional)</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="form-group">
                                            <label for="requester_name">Your Name</label>
                                            <input type="text" name="requester_name" id="requester_name" class="form-control" placeholder="John Doe"/>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label for="requester_email">Email</label>
                                            <input type="email" name="requester_email" id="requester_email" class="form-control" placeholder="john@example.com"/>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label for="requester_phone">Phone</label>
                                            <input type="tel" name="requester_phone" id="requester_phone" class="form-control" placeholder="+1234567890"/>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="text-center">
                                    <button type="submit" class="btn btn-primary btn-lg">Submit Request</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>
    
    <!-- Thank You Page -->
    <template id="thank_you_page" name="Thank You Page">
        <t t-call="website.layout">
            <div id="wrap" class="oe_structure">
                <div class="container mt-5 mb-5">
                    <div class="row">
                        <div class="col-lg-6 offset-lg-3 text-center">
                            <i class="fa fa-check-circle text-success" style="font-size: 80px;"></i>
                            <h1 class="mt-3">Thank You!</h1>
                            <p class="lead">Your maintenance request has been submitted successfully.</p>
                            <p>Request ID: <strong>#<t t-esc="request_id"/></strong></p>
                            <p>Our maintenance team will review your request and take action as soon as possible.</p>
                            <a href="/maintenance/request" class="btn btn-primary">Submit Another Request</a>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>
</odoo>